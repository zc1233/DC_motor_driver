# 功能

LED灯报错和显示ID

按键连按更改ID

ID存储在flash中，没有默认为1

spi读取角度信息，计算速度和保存位置

速度环和位置环PID实现（阈值限制），使用串行PID，首先实现速度环PID，位置环的结果作为速度环的输入

can通信：

- 只接受固定ID的帧，发送ID也为同一ID
- 收到请求帧时发送速度和位置数据
- 收到数据帧时，判断是对速度还是位置进行的设置，然后重置目标

# 实现

在软件定时器中实现IDLED的闪烁和超时验证：

- 定时器周期设置为0.5s。
- IDLED闪烁规律为闪烁ID次，亮灭时间为0.5s，然后灭2s。
- 超时验证规则：2秒内无按键
- 定时器中flag选择进入闪烁或超时验证，进入按键中断时选择进入超时验证，同时重置时间计数器。
- 如果超时，更改ID并写入flash中，更改can滤波器，更改flag



